import{d as i,e as u,f}from"./common-O2LFX5Q4.js";import{a as o,b as c,k as a}from"./common-VGBHA3S5.js";var s=o(c(),1);function m(){let r=(0,s.useRef)(null);r.current=e=>{switch(e.type){case"error":u(e.message,e.title??"Error");break;case"success":i(e.message,e.title??"Success");break;case"warning":f(e.message,e.title??"Warning");break;default:console.warn("Unknown notification type:",e.type)}},(0,s.useEffect)(()=>{let e=document.getElementById("server-notifications")?.textContent;if(e&&r.current)try{JSON.parse(e).forEach(r.current)}catch(n){console.error("Failed to parse app errors:",n)}},[])}var t=o(c(),1),l=o(a(),1);function p(){let[r,e]=(0,t.useState)(null),n=(0,t.useMemo)(()=>r?(0,l.jsx)("input",{type:"hidden",name:"authenticity_token",value:r}):null,[r]);return(0,t.useEffect)(()=>{e(document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")??null)},[]),{csrfToken:r,csrfTokenElement:n}}export{m as a,p as b};
